<!-- accounts/templates/accounts/change_password.html -->
{% extends "base.html" %}
{% load static %}

{% block title %}修改密码 - {{ site_settings.site_name }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow-lg">
                <div class="card-header bg-warning text-dark">
                    <h4 class="mb-0">
                        <i class="bi bi-key me-2"></i>
                        修改密码
                    </h4>
                </div>

                <div class="card-body">
                    <form method="post">
                        {% csrf_token %}

                        {% if form.errors %}
                        <div class="alert alert-danger">
                            <ul class="mb-0">
                                {% for field, errors in form.errors.items %}
                                    {% for error in errors %}
                                    <li>{{ error }}</li>
                                    {% endfor %}
                                {% endfor %}
                            </ul>
                        </div>
                        {% endif %}

                        <div class="mb-3">
                            <label class="form-label">当前密码</label>
                            {{ form.old_password }}
                        </div>

                        <div class="mb-3">
                            <label class="form-label">新密码</label>
                            {{ form.new_password1 }}
                            <div class="form-text">
                                密码至少8个字符，不能太简单，不能全是数字
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">确认新密码</label>
                            {{ form.new_password2 }}
                        </div>

                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <a href="{% url 'accounts:settings' %}"
                               class="btn btn-secondary me-md-2">
                                取消
                            </a>
                            <button type="submit" class="btn btn-warning">
                                修改密码
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- 安全提示 -->
            <div class="card mt-3 shadow-sm">
                <div class="card-body">
                    <h6 class="card-title">
                        <i class="bi bi-shield-check me-2"></i>安全提示
                    </h6>
                    <ul class="small text-muted mb-0">
                        <li>使用强密码，包含字母、数字和特殊字符</li>
                        <li>定期更换密码</li>
                        <li>不要在多个网站使用相同密码</li>
                        <li>避免使用个人信息作为密码</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}